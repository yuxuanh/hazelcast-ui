hzApp.controller("membersCtrl",["$scope","$routeParams","$http","fetchNodeMemory","$rootScope","listmembers","listMaps",function($scope,$routeParams,$http,fetchNodeMemory,$rootScope,listmembers,listMaps){function memberInfo(){$rootScope.$broadcast("destroyHome"),$rootScope.$broadcast("destroyMap");var id=$routeParams;fetchNodeMemory.nodeMemory(id.Id.split(":")[0]).then(function(response){$scope.membersData=[],$scope.membersData.push(response.data)})}$scope.membersData=[],$rootScope.nodes||listmembers.members().then(function(response){$rootScope.nodes=response.data}),$rootScope.maps||listMaps.maps().then(function(response){$rootScope.maps=response.data}),$routeParams.Id&&(memberInfo(),clearInterval($rootScope.clearMemberInfo),$rootScope.clearMemberInfo=setInterval(function(){memberInfo()},3e4)),$rootScope.$on("destroyMember",function(event,data){clearInterval($rootScope.clearMemberInfo)})}]);